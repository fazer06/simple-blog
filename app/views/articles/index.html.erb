<% if user_signed_in? %>
	<%= link_to 'Sign Out', destroy_user_session_path, method: :delete %>
	<%= current_user.first_name %>
<% else %>
	<%= link_to 'Sign In', new_user_session_path %>
<% end %>



<h1>Tag Cloud</h1>

<div class="tag-cloud">
	<% @tags.each do |tag| %>
		<%= link_to tag.name, tag_path(tag) %>
	<% end %>
</div>

<h1>Listing articles</h1>

<% if user_signed_in? %>
	<%= link_to 'New Article', new_article_path %>
<% end %>

<table>
	<tr>
		<th>Title</th>
		<th>Body</th>
	</tr>

	<% @articles.each do |article| %>
		<tr>
			<td><%= article.title %></td>
			<td><%= article.body %></td>
			<td><%= link_to 'Show', article_path(article) %></td>

			<% if user_signed_in? && article.user == current_user %>
	      		<td><%= link_to 'Edit', edit_article_path(article) %></td> 
	      		<td><%= link_to 'Delete', article_path(article), 
	      			method: :delete, data: { confirm: 'Are You Sure?' } %>
	      		</td>
			<% end %>
		</tr>
	<% end %>

</table>

<br>

<h3>Top 3 Most Popular Articles</h3>

<table>
	<tr>
		<th>Title</th>
	</tr>

	<% @popular_articles.each do |popular| %>
		<tr>
			<td><%= link_to popular.title, popular %></td>
		</tr>
	<% end %>
</table>